<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: anonymous_namespace{pci.cpp} Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">anonymous_namespace{pci.cpp} Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abd330fe97e663309fecc896e4932d478"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02pci_8cpp_03.html#abd330fe97e663309fecc896e4932d478">MakeAddress</a> (uint8_t bus, uint8_t device, uint8_t function, uint8_t reg_addr)</td></tr>
<tr class="separator:abd330fe97e663309fecc896e4932d478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac014f6c9c570d19f59ad09678a0339ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02pci_8cpp_03.html#ac014f6c9c570d19f59ad09678a0339ec">AddDevice</a> (const <a class="el" href="structpci_1_1Device.html">Device</a> &amp;device)</td></tr>
<tr class="memdesc:ac014f6c9c570d19f59ad09678a0339ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">devices[num_device] に情報を書き込み num_device をインクリメントする．  <a href="namespaceanonymous__namespace_02pci_8cpp_03.html#ac014f6c9c570d19f59ad09678a0339ec">More...</a><br /></td></tr>
<tr class="separator:ac014f6c9c570d19f59ad09678a0339ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f5ee39b0262ff7abc85d9482d4fcec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a01f5ee39b0262ff7abc85d9482d4fcec">ScanBus</a> (uint8_t bus)</td></tr>
<tr class="memdesc:a01f5ee39b0262ff7abc85d9482d4fcec"><td class="mdescLeft">&#160;</td><td class="mdescRight">指定のバス番号の各デバイスをスキャンする． 有効なデバイスを見つけたら ScanDevice を実行する．  <a href="namespaceanonymous__namespace_02pci_8cpp_03.html#a01f5ee39b0262ff7abc85d9482d4fcec">More...</a><br /></td></tr>
<tr class="separator:a01f5ee39b0262ff7abc85d9482d4fcec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4681e89349d4364b59c42b981478da99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a4681e89349d4364b59c42b981478da99">ScanFunction</a> (uint8_t bus, uint8_t device, uint8_t function)</td></tr>
<tr class="memdesc:a4681e89349d4364b59c42b981478da99"><td class="mdescLeft">&#160;</td><td class="mdescRight">指定のファンクションを devices に追加する． もし PCI-PCI ブリッジなら，セカンダリバスに対し ScanBus を実行する  <a href="namespaceanonymous__namespace_02pci_8cpp_03.html#a4681e89349d4364b59c42b981478da99">More...</a><br /></td></tr>
<tr class="separator:a4681e89349d4364b59c42b981478da99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6eb7d05e712e0090d52ba79c16b0376"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02pci_8cpp_03.html#ac6eb7d05e712e0090d52ba79c16b0376">ScanDevice</a> (uint8_t bus, uint8_t device)</td></tr>
<tr class="memdesc:ac6eb7d05e712e0090d52ba79c16b0376"><td class="mdescLeft">&#160;</td><td class="mdescRight">指定のデバイス番号の各ファンクションをスキャンする． 有効なファンクションを見つけたら ScanFunction を実行する．  <a href="namespaceanonymous__namespace_02pci_8cpp_03.html#ac6eb7d05e712e0090d52ba79c16b0376">More...</a><br /></td></tr>
<tr class="separator:ac6eb7d05e712e0090d52ba79c16b0376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04048cdd5f04a6338378bde867c7e254"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpci_1_1MSICapability.html">MSICapability</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a04048cdd5f04a6338378bde867c7e254">ReadMSICapability</a> (const <a class="el" href="structpci_1_1Device.html">Device</a> &amp;dev, uint8_t cap_addr)</td></tr>
<tr class="memdesc:a04048cdd5f04a6338378bde867c7e254"><td class="mdescLeft">&#160;</td><td class="mdescRight">指定された MSI ケーパビリティ構造を読み取る  <a href="namespaceanonymous__namespace_02pci_8cpp_03.html#a04048cdd5f04a6338378bde867c7e254">More...</a><br /></td></tr>
<tr class="separator:a04048cdd5f04a6338378bde867c7e254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a385963511dc94725a4f23e18c13cbf69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a385963511dc94725a4f23e18c13cbf69">WriteMSICapability</a> (const <a class="el" href="structpci_1_1Device.html">Device</a> &amp;dev, uint8_t cap_addr, const <a class="el" href="structpci_1_1MSICapability.html">MSICapability</a> &amp;msi_cap)</td></tr>
<tr class="memdesc:a385963511dc94725a4f23e18c13cbf69"><td class="mdescLeft">&#160;</td><td class="mdescRight">指定された MSI ケーパビリティ構造に書き込む  <a href="namespaceanonymous__namespace_02pci_8cpp_03.html#a385963511dc94725a4f23e18c13cbf69">More...</a><br /></td></tr>
<tr class="separator:a385963511dc94725a4f23e18c13cbf69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefa3a5640db48a27c677445cc0ccd6fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02pci_8cpp_03.html#aefa3a5640db48a27c677445cc0ccd6fb">ConfigureMSIRegister</a> (const <a class="el" href="structpci_1_1Device.html">Device</a> &amp;dev, uint8_t cap_addr, uint32_t <a class="el" href="pci_8hpp.html#a7d078db989f6bf32a05f764600a78fef">msg_addr</a>, uint32_t <a class="el" href="pci_8hpp.html#a9eac0dc114707ee8b932c89b5d5ca68f">msg_data</a>, unsigned int num_vector_exponent)</td></tr>
<tr class="memdesc:aefa3a5640db48a27c677445cc0ccd6fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">指定された MSI レジスタを設定する  <a href="namespaceanonymous__namespace_02pci_8cpp_03.html#aefa3a5640db48a27c677445cc0ccd6fb">More...</a><br /></td></tr>
<tr class="separator:aefa3a5640db48a27c677445cc0ccd6fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f42ff61b29b2177aa8c9cecdf2c692d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a3f42ff61b29b2177aa8c9cecdf2c692d">ConfigureMSIXRegister</a> (const <a class="el" href="structpci_1_1Device.html">Device</a> &amp;dev, uint8_t cap_addr, uint32_t <a class="el" href="pci_8hpp.html#a7d078db989f6bf32a05f764600a78fef">msg_addr</a>, uint32_t <a class="el" href="pci_8hpp.html#a9eac0dc114707ee8b932c89b5d5ca68f">msg_data</a>, unsigned int num_vector_exponent)</td></tr>
<tr class="memdesc:a3f42ff61b29b2177aa8c9cecdf2c692d"><td class="mdescLeft">&#160;</td><td class="mdescRight">指定された MSI レジスタを設定する  <a href="namespaceanonymous__namespace_02pci_8cpp_03.html#a3f42ff61b29b2177aa8c9cecdf2c692d">More...</a><br /></td></tr>
<tr class="separator:a3f42ff61b29b2177aa8c9cecdf2c692d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac014f6c9c570d19f59ad09678a0339ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac014f6c9c570d19f59ad09678a0339ec">&#9670;&nbsp;</a></span>AddDevice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> anonymous_namespace{pci.cpp}::AddDevice </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpci_1_1Device.html">Device</a> &amp;&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>devices[num_device] に情報を書き込み num_device をインクリメントする． </p>

<p class="definition">Definition at line <a class="el" href="pci_8cpp_source.html#l00036">36</a> of file <a class="el" href="pci_8cpp_source.html">pci.cpp</a>.</p>

<p class="reference">References <a class="el" href="pci_8hpp_source.html#l00078">pci::devices</a>, <a class="el" href="error_8hpp_source.html#l00010">Error::kFull</a>, <a class="el" href="error_8hpp_source.html#l00009">Error::kSuccess</a>, <a class="el" href="error_8hpp_source.html#l00092">MAKE_ERROR</a>, and <a class="el" href="pci_8hpp_source.html#l00080">pci::num_device</a>.</p>

<p class="reference">Referenced by <a class="el" href="pci_8cpp_source.html#l00052">ScanFunction()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_ac014f6c9c570d19f59ad09678a0339ec_icgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_ac014f6c9c570d19f59ad09678a0339ec_icgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_ac014f6c9c570d19f59ad09678a0339ec_icgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_ac014f6c9c570d19f59ad09678a0339ec_icgraph">
<area shape="rect" title="devices[num_device] に情報を書き込み num_device をインクリメントする．" alt="" coords="1216,35,1396,76"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a4681e89349d4364b59c42b981478da99" title="指定のファンクションを devices に追加する． もし PCI&#45;PCI ブリッジなら，セカンダリバスに対し ScanBus を実行する" alt="" coords="985,35,1168,76"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#ac6eb7d05e712e0090d52ba79c16b0376" title="指定のデバイス番号の各ファンクションをスキャンする． 有効なファンクションを見つけたら ScanFunction を実行する．" alt="" coords="757,5,937,47"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a01f5ee39b0262ff7abc85d9482d4fcec" title="指定のバス番号の各デバイスをスキャンする． 有効なデバイスを見つけたら ScanDevice を実行する．" alt="" coords="529,35,709,76"/>
<area shape="rect" href="namespacepci.html#a32d16aebcd18659dca6ff21a7897b946" title="PCI デバイスをすべて探索し devices に格納する" alt="" coords="360,42,481,69"/>
<area shape="rect" href="pci_8hpp.html#a4f62b443b1c7b11c89ddb538f4341d1c" title=" " alt="" coords="213,42,312,69"/>
<area shape="rect" href="main_8cpp.html#a7da4570c0d07e5391ac8ec4e26bc1407" title=" " alt="" coords="5,42,165,69"/>
</map>
</div>

</div>
</div>
<a id="aefa3a5640db48a27c677445cc0ccd6fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefa3a5640db48a27c677445cc0ccd6fb">&#9670;&nbsp;</a></span>ConfigureMSIRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> anonymous_namespace{pci.cpp}::ConfigureMSIRegister </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpci_1_1Device.html">Device</a> &amp;&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cap_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>msg_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>msg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_vector_exponent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>指定された MSI レジスタを設定する </p>

<p class="definition">Definition at line <a class="el" href="pci_8cpp_source.html#l00161">161</a> of file <a class="el" href="pci_8cpp_source.html">pci.cpp</a>.</p>

<p class="reference">References <a class="el" href="error_8hpp_source.html#l00009">Error::kSuccess</a>, <a class="el" href="error_8hpp_source.html#l00092">MAKE_ERROR</a>, <a class="el" href="pci_8hpp_source.html#l00122">msg_addr</a>, <a class="el" href="pci_8hpp_source.html#l00124">msg_data</a>, <a class="el" href="pci_8cpp_source.html#l00113">ReadMSICapability()</a>, and <a class="el" href="pci_8cpp_source.html#l00141">WriteMSICapability()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pci_8cpp_source.html#l00297">pci::ConfigureMSI()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_aefa3a5640db48a27c677445cc0ccd6fb_cgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_aefa3a5640db48a27c677445cc0ccd6fb_cgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_aefa3a5640db48a27c677445cc0ccd6fb_cgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_aefa3a5640db48a27c677445cc0ccd6fb_cgraph">
<area shape="rect" title="指定された MSI レジスタを設定する" alt="" coords="5,79,241,121"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a04048cdd5f04a6338378bde867c7e254" title="指定された MSI ケーパビリティ構造を読み取る" alt="" coords="291,46,509,87"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a385963511dc94725a4f23e18c13cbf69" title="指定された MSI ケーパビリティ構造に書き込む" alt="" coords="289,111,511,153"/>
<area shape="rect" href="namespacepci.html#a26c366582513de13df3b528f68f375d8" title=" " alt="" coords="559,55,697,81"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#abd330fe97e663309fecc896e4932d478" title=" " alt="" coords="745,107,928,149"/>
<area shape="rect" href="namespacepci.html#a8741a587a5830a28a32e3ef92478c753" title="CONFIG_DATA から 32 ビット整数を読み込む" alt="" coords="780,5,893,32"/>
<area shape="rect" href="namespacepci.html#a8be41f4f95b4aee92f03e6e46d74c814" title="CONFIG_ADDRESS に指定された整数を書き込む" alt="" coords="769,56,905,83"/>
<area shape="rect" href="asmfunc_8h.html#a59c93c061a197453c0214e2424b428c8" title=" " alt="" coords="981,5,1044,32"/>
<area shape="rect" href="asmfunc_8h.html#ae9e509af3817e40529f9d4c358bd2581" title=" " alt="" coords="976,115,1049,141"/>
<area shape="rect" href="namespacepci.html#a8664d6328011718b702012b81065983b" title=" " alt="" coords="559,116,697,143"/>
<area shape="rect" href="namespacepci.html#ab5d44e77708b8f81d78c54c018fde8af" title="CONFIG_DATA に指定された整数を書き込む" alt="" coords="779,173,894,200"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_aefa3a5640db48a27c677445cc0ccd6fb_icgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_aefa3a5640db48a27c677445cc0ccd6fb_icgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_aefa3a5640db48a27c677445cc0ccd6fb_icgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_aefa3a5640db48a27c677445cc0ccd6fb_icgraph">
<area shape="rect" title="指定された MSI レジスタを設定する" alt="" coords="880,5,1116,47"/>
<area shape="rect" href="namespacepci.html#a9cf4f1b2a0e810f6400d9ad4352e8f1c" title=" " alt="" coords="697,13,832,39"/>
<area shape="rect" href="namespacepci.html#af57068dc97191fcc3cf5b5d4b201e433" title=" " alt="" coords="405,13,649,39"/>
<area shape="rect" href="namespaceusb_1_1xhci.html#a230710c277871c2a8fb820799c2e05e6" title=" " alt="" coords="213,13,357,39"/>
<area shape="rect" href="main_8cpp.html#a7da4570c0d07e5391ac8ec4e26bc1407" title=" " alt="" coords="5,13,165,39"/>
</map>
</div>

</div>
</div>
<a id="a3f42ff61b29b2177aa8c9cecdf2c692d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f42ff61b29b2177aa8c9cecdf2c692d">&#9670;&nbsp;</a></span>ConfigureMSIXRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> anonymous_namespace{pci.cpp}::ConfigureMSIXRegister </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpci_1_1Device.html">Device</a> &amp;&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cap_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>msg_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>msg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_vector_exponent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>指定された MSI レジスタを設定する </p>

<p class="definition">Definition at line <a class="el" href="pci_8cpp_source.html#l00182">182</a> of file <a class="el" href="pci_8cpp_source.html">pci.cpp</a>.</p>

<p class="reference">References <a class="el" href="error_8hpp_source.html#l00020">Error::kNotImplemented</a>, and <a class="el" href="error_8hpp_source.html#l00092">MAKE_ERROR</a>.</p>

<p class="reference">Referenced by <a class="el" href="pci_8cpp_source.html#l00297">pci::ConfigureMSI()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_a3f42ff61b29b2177aa8c9cecdf2c692d_icgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_a3f42ff61b29b2177aa8c9cecdf2c692d_icgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_a3f42ff61b29b2177aa8c9cecdf2c692d_icgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_a3f42ff61b29b2177aa8c9cecdf2c692d_icgraph">
<area shape="rect" title="指定された MSI レジスタを設定する" alt="" coords="880,5,1125,47"/>
<area shape="rect" href="namespacepci.html#a9cf4f1b2a0e810f6400d9ad4352e8f1c" title=" " alt="" coords="697,13,832,39"/>
<area shape="rect" href="namespacepci.html#af57068dc97191fcc3cf5b5d4b201e433" title=" " alt="" coords="405,13,649,39"/>
<area shape="rect" href="namespaceusb_1_1xhci.html#a230710c277871c2a8fb820799c2e05e6" title=" " alt="" coords="213,13,357,39"/>
<area shape="rect" href="main_8cpp.html#a7da4570c0d07e5391ac8ec4e26bc1407" title=" " alt="" coords="5,13,165,39"/>
</map>
</div>

</div>
</div>
<a id="abd330fe97e663309fecc896e4932d478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd330fe97e663309fecc896e4932d478">&#9670;&nbsp;</a></span>MakeAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t anonymous_namespace{pci.cpp}::MakeAddress </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>reg_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make a 32 bits address to set to CONFIG_ADDRESS register. [CONFIG_ADDRESS] </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">bit position </th><th class="markdownTableHeadNone">description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone" rowspan="2">31 </td><td class="markdownTableBodyNone">Enable bit.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Set to 1 to enable writing and reading PCI Configuration Area.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">30:24 </td><td class="markdownTableBodyNone">Reservation  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">23:16 </td><td class="markdownTableBodyNone">Bus number (0 - 255)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">15:11 </td><td class="markdownTableBodyNone">Device number (0 - 31)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">10:8 </td><td class="markdownTableBodyNone">Function number (0 - 7)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">7:0 </td><td class="markdownTableBodyNone">Register offset (0 - 255) per 4 byte  </td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="pci_8cpp_source.html#l00022">22</a> of file <a class="el" href="pci_8cpp_source.html">pci.cpp</a>.</p>

<p class="reference">References <a class="el" href="setupdata_8hpp.html#a0b7d2160b3407f9991a86725c157b1d8">bits</a>.</p>

<p class="reference">Referenced by <a class="el" href="pci_8cpp_source.html#l00237">pci::ReadBusNumbers()</a>, <a class="el" href="pci_8cpp_source.html#l00213">pci::ReadClassCode()</a>, <a class="el" href="pci_8cpp_source.html#l00223">pci::ReadConfReg()</a>, <a class="el" href="pci_8cpp_source.html#l00208">pci::ReadDeviceId()</a>, <a class="el" href="pci_8cpp_source.html#l00232">pci::ReadHeaderType()</a>, <a class="el" href="pci_8cpp_source.html#l00203">pci::ReadVendorId()</a>, and <a class="el" href="pci_8cpp_source.html#l00227">pci::WriteConfReg()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_abd330fe97e663309fecc896e4932d478_icgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_abd330fe97e663309fecc896e4932d478_icgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_abd330fe97e663309fecc896e4932d478_icgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_abd330fe97e663309fecc896e4932d478_icgraph">
<area shape="rect" title=" " alt="" coords="1692,249,1875,290"/>
<area shape="rect" href="namespacepci.html#a81282d0f6b2f8567e636ec5cd86620d7" title="バス番号レジスタを読み取る（ヘッダタイプ 1 用）" alt="" coords="1479,152,1644,179"/>
<area shape="rect" href="namespacepci.html#a40e669b132bb1ce88a9ab7168bd5ef36" title="クラスコードレジスタを読み取る（全ヘッダタイプ共通）" alt="" coords="1486,101,1637,128"/>
<area shape="rect" href="namespacepci.html#a26c366582513de13df3b528f68f375d8" title=" " alt="" coords="1493,567,1630,593"/>
<area shape="rect" href="namespacepci.html#a25b60223f7722f8c3a14341488fb99b2" title="デバイス ID レジスタを読み取る（全ヘッダタイプ共通）" alt="" coords="1492,256,1631,283"/>
<area shape="rect" href="namespacepci.html#a930ae2720d6ed95afcf6df39e06c2dd7" title="ヘッダタイプレジスタを読み取る（全ヘッダタイプ共通）" alt="" coords="1482,204,1641,231"/>
<area shape="rect" href="namespacepci.html#a9aaf9ef581a7cca6de291efc3c2036c9" title="ベンダ ID レジスタを読み取る（全ヘッダタイプ共通）" alt="" coords="1251,312,1389,339"/>
<area shape="rect" href="namespacepci.html#a8664d6328011718b702012b81065983b" title=" " alt="" coords="1492,363,1631,389"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a4681e89349d4364b59c42b981478da99" title="指定のファンクションを devices に追加する． もし PCI&#45;PCI ブリッジなら，セカンダリバスに対し ScanBus を実行する" alt="" coords="1229,94,1411,135"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#ac6eb7d05e712e0090d52ba79c16b0376" title="指定のデバイス番号の各ファンクションをスキャンする． 有効なファンクションを見つけたら ScanFunction を実行する．" alt="" coords="953,94,1133,135"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a01f5ee39b0262ff7abc85d9482d4fcec" title="指定のバス番号の各デバイスをスキャンする． 有効なデバイスを見つけたら ScanDevice を実行する．" alt="" coords="697,119,877,161"/>
<area shape="rect" href="namespacepci.html#a32d16aebcd18659dca6ff21a7897b946" title="PCI デバイスをすべて探索し devices に格納する" alt="" coords="467,236,588,263"/>
<area shape="rect" href="pci_8hpp.html#a4f62b443b1c7b11c89ddb538f4341d1c" title=" " alt="" coords="236,275,335,301"/>
<area shape="rect" href="main_8cpp.html#a7da4570c0d07e5391ac8ec4e26bc1407" title=" " alt="" coords="5,392,165,419"/>
<area shape="rect" href="namespacepci.html#a9cf4f1b2a0e810f6400d9ad4352e8f1c" title=" " alt="" coords="720,564,855,591"/>
<area shape="rect" href="namespacepci.html#a246e1675be11897121479241ac631948" title=" " alt="" coords="735,643,839,669"/>
<area shape="rect" href="namespacepci.html#af756f5d8f79098469c965aa978af6428" title=" " alt="" coords="946,596,1141,623"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a04048cdd5f04a6338378bde867c7e254" title="指定された MSI ケーパビリティ構造を読み取る" alt="" coords="1211,530,1429,571"/>
<area shape="rect" href="namespaceanonymous__namespace_02xhci_8cpp_03.html#a973b0fa3a5cf128fe2be864d14167079" title=" " alt="" coords="938,465,1149,506"/>
<area shape="rect" href="namespacepci.html#af57068dc97191fcc3cf5b5d4b201e433" title=" " alt="" coords="405,529,649,556"/>
<area shape="rect" href="namespaceusb_1_1xhci.html#a230710c277871c2a8fb820799c2e05e6" title=" " alt="" coords="213,472,357,499"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#aefa3a5640db48a27c677445cc0ccd6fb" title="指定された MSI レジスタを設定する" alt="" coords="925,530,1161,571"/>
<area shape="rect" href="namespacepci.html#a71f6553c934a6e94c1c65b7e7883abbe" title=" " alt="" coords="974,363,1113,389"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a385963511dc94725a4f23e18c13cbf69" title="指定された MSI ケーパビリティ構造に書き込む" alt="" coords="1209,465,1431,506"/>
</map>
</div>

</div>
</div>
<a id="a04048cdd5f04a6338378bde867c7e254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04048cdd5f04a6338378bde867c7e254">&#9670;&nbsp;</a></span>ReadMSICapability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpci_1_1MSICapability.html">MSICapability</a> anonymous_namespace{pci.cpp}::ReadMSICapability </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpci_1_1Device.html">Device</a> &amp;&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cap_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>指定された MSI ケーパビリティ構造を読み取る </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>MSI ケーパビリティを読み込む PCI デバイス </td></tr>
    <tr><td class="paramname">cap_addr</td><td>MSI ケーパビリティレジスタのコンフィグレーション空間アドレス </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pci_8cpp_source.html#l00113">113</a> of file <a class="el" href="pci_8cpp_source.html">pci.cpp</a>.</p>

<p class="reference">References <a class="el" href="pci_8hpp_source.html#l00111">pci::MSICapability::data</a>, and <a class="el" href="pci_8cpp_source.html#l00223">pci::ReadConfReg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pci_8cpp_source.html#l00161">ConfigureMSIRegister()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_a04048cdd5f04a6338378bde867c7e254_cgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_a04048cdd5f04a6338378bde867c7e254_cgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_a04048cdd5f04a6338378bde867c7e254_cgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_a04048cdd5f04a6338378bde867c7e254_cgraph">
<area shape="rect" title="指定された MSI ケーパビリティ構造を読み取る" alt="" coords="5,64,224,105"/>
<area shape="rect" href="namespacepci.html#a26c366582513de13df3b528f68f375d8" title=" " alt="" coords="272,71,409,98"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#abd330fe97e663309fecc896e4932d478" title=" " alt="" coords="457,5,640,47"/>
<area shape="rect" href="namespacepci.html#a8741a587a5830a28a32e3ef92478c753" title="CONFIG_DATA から 32 ビット整数を読み込む" alt="" coords="492,71,605,98"/>
<area shape="rect" href="namespacepci.html#a8be41f4f95b4aee92f03e6e46d74c814" title="CONFIG_ADDRESS に指定された整数を書き込む" alt="" coords="481,122,617,149"/>
<area shape="rect" href="asmfunc_8h.html#a59c93c061a197453c0214e2424b428c8" title=" " alt="" coords="693,71,756,98"/>
<area shape="rect" href="asmfunc_8h.html#ae9e509af3817e40529f9d4c358bd2581" title=" " alt="" coords="688,122,761,149"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_a04048cdd5f04a6338378bde867c7e254_icgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_a04048cdd5f04a6338378bde867c7e254_icgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_a04048cdd5f04a6338378bde867c7e254_icgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_a04048cdd5f04a6338378bde867c7e254_icgraph">
<area shape="rect" title="指定された MSI ケーパビリティ構造を読み取る" alt="" coords="1164,5,1383,47"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#aefa3a5640db48a27c677445cc0ccd6fb" title="指定された MSI レジスタを設定する" alt="" coords="880,5,1116,47"/>
<area shape="rect" href="namespacepci.html#a9cf4f1b2a0e810f6400d9ad4352e8f1c" title=" " alt="" coords="697,13,832,39"/>
<area shape="rect" href="namespacepci.html#af57068dc97191fcc3cf5b5d4b201e433" title=" " alt="" coords="405,13,649,39"/>
<area shape="rect" href="namespaceusb_1_1xhci.html#a230710c277871c2a8fb820799c2e05e6" title=" " alt="" coords="213,13,357,39"/>
<area shape="rect" href="main_8cpp.html#a7da4570c0d07e5391ac8ec4e26bc1407" title=" " alt="" coords="5,13,165,39"/>
</map>
</div>

</div>
</div>
<a id="a01f5ee39b0262ff7abc85d9482d4fcec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01f5ee39b0262ff7abc85d9482d4fcec">&#9670;&nbsp;</a></span>ScanBus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> anonymous_namespace pci anonymous_namespace{pci.cpp}::cpp::ScanBus </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>指定のバス番号の各デバイスをスキャンする． 有効なデバイスを見つけたら ScanDevice を実行する． </p>

<p class="definition">Definition at line <a class="el" href="pci_8cpp_source.html#l00096">96</a> of file <a class="el" href="pci_8cpp_source.html">pci.cpp</a>.</p>

<p class="reference">References <a class="el" href="error_8hpp_source.html#l00009">Error::kSuccess</a>, <a class="el" href="error_8hpp_source.html#l00092">MAKE_ERROR</a>, <a class="el" href="pci_8cpp_source.html#l00203">pci::ReadVendorId()</a>, and <a class="el" href="pci_8cpp_source.html#l00073">ScanDevice()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pci_8cpp_source.html#l00246">pci::ScanAllBus()</a>, and <a class="el" href="pci_8cpp_source.html#l00052">ScanFunction()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_a01f5ee39b0262ff7abc85d9482d4fcec_cgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_a01f5ee39b0262ff7abc85d9482d4fcec_cgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_a01f5ee39b0262ff7abc85d9482d4fcec_cgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_a01f5ee39b0262ff7abc85d9482d4fcec_cgraph">
<area shape="rect" title="指定のバス番号の各デバイスをスキャンする． 有効なデバイスを見つけたら ScanDevice を実行する．" alt="" coords="5,74,185,115"/>
<area shape="rect" href="namespacepci.html#a9aaf9ef581a7cca6de291efc3c2036c9" title="ベンダ ID レジスタを読み取る（全ヘッダタイプ共通）" alt="" coords="730,5,869,32"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#ac6eb7d05e712e0090d52ba79c16b0376" title="指定のデバイス番号の各ファンクションをスキャンする． 有効なファンクションを見つけたら ScanFunction を実行する．" alt="" coords="233,74,413,115"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#abd330fe97e663309fecc896e4932d478" title=" " alt="" coords="937,133,1120,174"/>
<area shape="rect" href="namespacepci.html#a8741a587a5830a28a32e3ef92478c753" title="CONFIG_DATA から 32 ビット整数を読み込む" alt="" coords="972,31,1085,57"/>
<area shape="rect" href="namespacepci.html#a8be41f4f95b4aee92f03e6e46d74c814" title="CONFIG_ADDRESS に指定された整数を書き込む" alt="" coords="961,81,1097,108"/>
<area shape="rect" href="asmfunc_8h.html#a59c93c061a197453c0214e2424b428c8" title=" " alt="" coords="1173,31,1236,57"/>
<area shape="rect" href="asmfunc_8h.html#ae9e509af3817e40529f9d4c358bd2581" title=" " alt="" coords="1168,81,1241,108"/>
<area shape="rect" href="namespacepci.html#a13a1f05271908bbdda9db72d89449c57" title="単一ファンクションの場合に真を返す" alt="" coords="461,56,661,83"/>
<area shape="rect" href="namespacepci.html#a930ae2720d6ed95afcf6df39e06c2dd7" title="ヘッダタイプレジスタを読み取る（全ヘッダタイプ共通）" alt="" coords="720,56,879,83"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a4681e89349d4364b59c42b981478da99" title="指定のファンクションを devices に追加する． もし PCI&#45;PCI ブリッジなら，セカンダリバスに対し ScanBus を実行する" alt="" coords="470,158,653,199"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#ac014f6c9c570d19f59ad09678a0339ec" title="devices[num_device] に情報を書き込み num_device をインクリメントする．" alt="" coords="709,158,889,199"/>
<area shape="rect" href="namespacepci.html#a81282d0f6b2f8567e636ec5cd86620d7" title="バス番号レジスタを読み取る（ヘッダタイプ 1 用）" alt="" coords="717,107,882,133"/>
<area shape="rect" href="namespacepci.html#a40e669b132bb1ce88a9ab7168bd5ef36" title="クラスコードレジスタを読み取る（全ヘッダタイプ共通）" alt="" coords="724,224,875,251"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_a01f5ee39b0262ff7abc85d9482d4fcec_icgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_a01f5ee39b0262ff7abc85d9482d4fcec_icgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_a01f5ee39b0262ff7abc85d9482d4fcec_icgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_a01f5ee39b0262ff7abc85d9482d4fcec_icgraph">
<area shape="rect" title="指定のバス番号の各デバイスをスキャンする． 有効なデバイスを見つけたら ScanDevice を実行する．" alt="" coords="672,57,852,98"/>
<area shape="rect" href="namespacepci.html#a32d16aebcd18659dca6ff21a7897b946" title="PCI デバイスをすべて探索し devices に格納する" alt="" coords="472,5,593,32"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a4681e89349d4364b59c42b981478da99" title="指定のファンクションを devices に追加する． もし PCI&#45;PCI ブリッジなら，セカンダリバスに対し ScanBus を実行する" alt="" coords="441,57,624,98"/>
<area shape="rect" href="pci_8hpp.html#a4f62b443b1c7b11c89ddb538f4341d1c" title=" " alt="" coords="254,5,353,32"/>
<area shape="rect" href="main_8cpp.html#a7da4570c0d07e5391ac8ec4e26bc1407" title=" " alt="" coords="5,5,165,32"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#ac6eb7d05e712e0090d52ba79c16b0376" title="指定のデバイス番号の各ファンクションをスキャンする． 有効なファンクションを見つけたら ScanFunction を実行する．" alt="" coords="213,86,393,127"/>
</map>
</div>

</div>
</div>
<a id="ac6eb7d05e712e0090d52ba79c16b0376"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6eb7d05e712e0090d52ba79c16b0376">&#9670;&nbsp;</a></span>ScanDevice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> anonymous_namespace{pci.cpp}::ScanDevice </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>指定のデバイス番号の各ファンクションをスキャンする． 有効なファンクションを見つけたら ScanFunction を実行する． </p>

<p class="definition">Definition at line <a class="el" href="pci_8cpp_source.html#l00073">73</a> of file <a class="el" href="pci_8cpp_source.html">pci.cpp</a>.</p>

<p class="reference">References <a class="el" href="pci_8cpp_source.html#l00242">pci::IsSingleFunctionDevice()</a>, <a class="el" href="error_8hpp_source.html#l00009">Error::kSuccess</a>, <a class="el" href="error_8hpp_source.html#l00092">MAKE_ERROR</a>, <a class="el" href="pci_8cpp_source.html#l00232">pci::ReadHeaderType()</a>, <a class="el" href="pci_8cpp_source.html#l00203">pci::ReadVendorId()</a>, and <a class="el" href="pci_8cpp_source.html#l00052">ScanFunction()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pci_8cpp_source.html#l00096">ScanBus()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_ac6eb7d05e712e0090d52ba79c16b0376_cgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_ac6eb7d05e712e0090d52ba79c16b0376_cgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_ac6eb7d05e712e0090d52ba79c16b0376_cgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_ac6eb7d05e712e0090d52ba79c16b0376_cgraph">
<area shape="rect" title="指定のデバイス番号の各ファンクションをスキャンする． 有効なファンクションを見つけたら ScanFunction を実行する．" alt="" coords="5,217,185,258"/>
<area shape="rect" href="namespacepci.html#a13a1f05271908bbdda9db72d89449c57" title="単一ファンクションの場合に真を返す" alt="" coords="233,5,433,32"/>
<area shape="rect" href="namespacepci.html#a930ae2720d6ed95afcf6df39e06c2dd7" title="ヘッダタイプレジスタを読み取る（全ヘッダタイプ共通）" alt="" coords="713,173,871,200"/>
<area shape="rect" href="namespacepci.html#a9aaf9ef581a7cca6de291efc3c2036c9" title="ベンダ ID レジスタを読み取る（全ヘッダタイプ共通）" alt="" coords="723,325,861,352"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a4681e89349d4364b59c42b981478da99" title="指定のファンクションを devices に追加する． もし PCI&#45;PCI ブリッジなら，セカンダリバスに対し ScanBus を実行する" alt="" coords="242,217,425,258"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#abd330fe97e663309fecc896e4932d478" title=" " alt="" coords="923,187,1105,229"/>
<area shape="rect" href="namespacepci.html#a8741a587a5830a28a32e3ef92478c753" title="CONFIG_DATA から 32 ビット整数を読み込む" alt="" coords="957,253,1071,280"/>
<area shape="rect" href="namespacepci.html#a8be41f4f95b4aee92f03e6e46d74c814" title="CONFIG_ADDRESS に指定された整数を書き込む" alt="" coords="946,304,1082,331"/>
<area shape="rect" href="asmfunc_8h.html#a59c93c061a197453c0214e2424b428c8" title=" " alt="" coords="1159,253,1221,280"/>
<area shape="rect" href="asmfunc_8h.html#ae9e509af3817e40529f9d4c358bd2581" title=" " alt="" coords="1153,304,1227,331"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#ac014f6c9c570d19f59ad09678a0339ec" title="devices[num_device] に情報を書き込み num_device をインクリメントする．" alt="" coords="481,158,661,199"/>
<area shape="rect" href="namespacepci.html#a81282d0f6b2f8567e636ec5cd86620d7" title="バス番号レジスタを読み取る（ヘッダタイプ 1 用）" alt="" coords="709,224,875,251"/>
<area shape="rect" href="namespacepci.html#a40e669b132bb1ce88a9ab7168bd5ef36" title="クラスコードレジスタを読み取る（全ヘッダタイプ共通）" alt="" coords="717,275,867,301"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a01f5ee39b0262ff7abc85d9482d4fcec" title="指定のバス番号の各デバイスをスキャンする． 有効なデバイスを見つけたら ScanDevice を実行する．" alt="" coords="481,326,661,367"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_ac6eb7d05e712e0090d52ba79c16b0376_icgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_ac6eb7d05e712e0090d52ba79c16b0376_icgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_ac6eb7d05e712e0090d52ba79c16b0376_icgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_ac6eb7d05e712e0090d52ba79c16b0376_icgraph">
<area shape="rect" title="指定のデバイス番号の各ファンクションをスキャンする． 有効なファンクションを見つけたら ScanFunction を実行する．" alt="" coords="819,35,999,76"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a01f5ee39b0262ff7abc85d9482d4fcec" title="指定のバス番号の各デバイスをスキャンする． 有効なデバイスを見つけたら ScanDevice を実行する．" alt="" coords="591,5,771,47"/>
<area shape="rect" href="namespacepci.html#a32d16aebcd18659dca6ff21a7897b946" title="PCI デバイスをすべて探索し devices に格納する" alt="" coords="391,13,512,39"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a4681e89349d4364b59c42b981478da99" title="指定のファンクションを devices に追加する． もし PCI&#45;PCI ブリッジなら，セカンダリバスに対し ScanBus を実行する" alt="" coords="360,64,543,105"/>
<area shape="rect" href="pci_8hpp.html#a4f62b443b1c7b11c89ddb538f4341d1c" title=" " alt="" coords="213,13,312,39"/>
<area shape="rect" href="main_8cpp.html#a7da4570c0d07e5391ac8ec4e26bc1407" title=" " alt="" coords="5,13,165,39"/>
</map>
</div>

</div>
</div>
<a id="a4681e89349d4364b59c42b981478da99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4681e89349d4364b59c42b981478da99">&#9670;&nbsp;</a></span>ScanFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> anonymous_namespace{pci.cpp}::ScanFunction </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>指定のファンクションを devices に追加する． もし PCI-PCI ブリッジなら，セカンダリバスに対し ScanBus を実行する </p>

<p class="definition">Definition at line <a class="el" href="pci_8cpp_source.html#l00052">52</a> of file <a class="el" href="pci_8cpp_source.html">pci.cpp</a>.</p>

<p class="reference">References <a class="el" href="pci_8cpp_source.html#l00036">AddDevice()</a>, <a class="el" href="error_8hpp_source.html#l00009">Error::kSuccess</a>, <a class="el" href="error_8hpp_source.html#l00092">MAKE_ERROR</a>, <a class="el" href="pci_8cpp_source.html#l00237">pci::ReadBusNumbers()</a>, <a class="el" href="pci_8cpp_source.html#l00213">pci::ReadClassCode()</a>, <a class="el" href="pci_8cpp_source.html#l00232">pci::ReadHeaderType()</a>, and <a class="el" href="pci_8cpp_source.html#l00096">ScanBus()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pci_8cpp_source.html#l00073">ScanDevice()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_a4681e89349d4364b59c42b981478da99_cgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_a4681e89349d4364b59c42b981478da99_cgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_a4681e89349d4364b59c42b981478da99_cgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_a4681e89349d4364b59c42b981478da99_cgraph">
<area shape="rect" title="指定のファンクションを devices に追加する． もし PCI&#45;PCI ブリッジなら，セカンダリバスに対し ScanBus を実行する" alt="" coords="5,144,188,185"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#ac014f6c9c570d19f59ad09678a0339ec" title="devices[num_device] に情報を書き込み num_device をインクリメントする．" alt="" coords="236,5,416,47"/>
<area shape="rect" href="namespacepci.html#a81282d0f6b2f8567e636ec5cd86620d7" title="バス番号レジスタを読み取る（ヘッダタイプ 1 用）" alt="" coords="709,71,875,98"/>
<area shape="rect" href="namespacepci.html#a40e669b132bb1ce88a9ab7168bd5ef36" title="クラスコードレジスタを読み取る（全ヘッダタイプ共通）" alt="" coords="717,122,867,149"/>
<area shape="rect" href="namespacepci.html#a930ae2720d6ed95afcf6df39e06c2dd7" title="ヘッダタイプレジスタを読み取る（全ヘッダタイプ共通）" alt="" coords="713,274,871,301"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a01f5ee39b0262ff7abc85d9482d4fcec" title="指定のバス番号の各デバイスをスキャンする． 有効なデバイスを見つけたら ScanDevice を実行する．" alt="" coords="236,173,416,215"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#abd330fe97e663309fecc896e4932d478" title=" " alt="" coords="940,199,1123,240"/>
<area shape="rect" href="namespacepci.html#a8741a587a5830a28a32e3ef92478c753" title="CONFIG_DATA から 32 ビット整数を読み込む" alt="" coords="975,97,1088,123"/>
<area shape="rect" href="namespacepci.html#a8be41f4f95b4aee92f03e6e46d74c814" title="CONFIG_ADDRESS に指定された整数を書き込む" alt="" coords="963,147,1099,174"/>
<area shape="rect" href="asmfunc_8h.html#a59c93c061a197453c0214e2424b428c8" title=" " alt="" coords="1176,97,1239,123"/>
<area shape="rect" href="asmfunc_8h.html#ae9e509af3817e40529f9d4c358bd2581" title=" " alt="" coords="1171,147,1244,174"/>
<area shape="rect" href="namespacepci.html#a9aaf9ef581a7cca6de291efc3c2036c9" title="ベンダ ID レジスタを読み取る（全ヘッダタイプ共通）" alt="" coords="723,173,861,199"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#ac6eb7d05e712e0090d52ba79c16b0376" title="指定のデバイス番号の各ファンクションをスキャンする． 有効なファンクションを見つけたら ScanFunction を実行する．" alt="" coords="464,224,644,265"/>
<area shape="rect" href="namespacepci.html#a13a1f05271908bbdda9db72d89449c57" title="単一ファンクションの場合に真を返す" alt="" coords="692,223,892,250"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_a4681e89349d4364b59c42b981478da99_icgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_a4681e89349d4364b59c42b981478da99_icgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_a4681e89349d4364b59c42b981478da99_icgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_a4681e89349d4364b59c42b981478da99_icgraph">
<area shape="rect" title="指定のファンクションを devices に追加する． もし PCI&#45;PCI ブリッジなら，セカンダリバスに対し ScanBus を実行する" alt="" coords="985,35,1168,76"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#ac6eb7d05e712e0090d52ba79c16b0376" title="指定のデバイス番号の各ファンクションをスキャンする． 有効なファンクションを見つけたら ScanFunction を実行する．" alt="" coords="757,5,937,47"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#a01f5ee39b0262ff7abc85d9482d4fcec" title="指定のバス番号の各デバイスをスキャンする． 有効なデバイスを見つけたら ScanDevice を実行する．" alt="" coords="529,35,709,76"/>
<area shape="rect" href="namespacepci.html#a32d16aebcd18659dca6ff21a7897b946" title="PCI デバイスをすべて探索し devices に格納する" alt="" coords="360,42,481,69"/>
<area shape="rect" href="pci_8hpp.html#a4f62b443b1c7b11c89ddb538f4341d1c" title=" " alt="" coords="213,42,312,69"/>
<area shape="rect" href="main_8cpp.html#a7da4570c0d07e5391ac8ec4e26bc1407" title=" " alt="" coords="5,42,165,69"/>
</map>
</div>

</div>
</div>
<a id="a385963511dc94725a4f23e18c13cbf69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a385963511dc94725a4f23e18c13cbf69">&#9670;&nbsp;</a></span>WriteMSICapability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{pci.cpp}::WriteMSICapability </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpci_1_1Device.html">Device</a> &amp;&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cap_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpci_1_1MSICapability.html">MSICapability</a> &amp;&#160;</td>
          <td class="paramname"><em>msi_cap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>指定された MSI ケーパビリティ構造に書き込む </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>MSI ケーパビリティを読み込む PCI デバイス </td></tr>
    <tr><td class="paramname">cap_addr</td><td>MSI ケーパビリティレジスタのコンフィグレーション空間アドレス </td></tr>
    <tr><td class="paramname">msi_cap</td><td>書き込む値 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pci_8cpp_source.html#l00141">141</a> of file <a class="el" href="pci_8cpp_source.html">pci.cpp</a>.</p>

<p class="reference">References <a class="el" href="pci_8hpp_source.html#l00118">pci::MSICapability::addr_64_capable</a>, <a class="el" href="pci_8hpp_source.html#l00111">pci::MSICapability::data</a>, <a class="el" href="pci_8hpp_source.html#l00127">pci::MSICapability::mask_bits</a>, <a class="el" href="pci_8hpp_source.html#l00124">pci::MSICapability::msg_addr</a>, <a class="el" href="pci_8hpp_source.html#l00126">pci::MSICapability::msg_data</a>, <a class="el" href="pci_8hpp_source.html#l00125">pci::MSICapability::msg_upper_addr</a>, <a class="el" href="pci_8hpp_source.html#l00128">pci::MSICapability::pending_bits</a>, <a class="el" href="pci_8hpp_source.html#l00119">pci::MSICapability::per_vector_mask_capable</a>, and <a class="el" href="pci_8cpp_source.html#l00227">pci::WriteConfReg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pci_8cpp_source.html#l00161">ConfigureMSIRegister()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_a385963511dc94725a4f23e18c13cbf69_cgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_a385963511dc94725a4f23e18c13cbf69_cgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_a385963511dc94725a4f23e18c13cbf69_cgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_a385963511dc94725a4f23e18c13cbf69_cgraph">
<area shape="rect" title="指定された MSI ケーパビリティ構造に書き込む" alt="" coords="5,64,227,105"/>
<area shape="rect" href="namespacepci.html#a8664d6328011718b702012b81065983b" title=" " alt="" coords="275,71,413,98"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#abd330fe97e663309fecc896e4932d478" title=" " alt="" coords="461,5,644,47"/>
<area shape="rect" href="namespacepci.html#a8be41f4f95b4aee92f03e6e46d74c814" title="CONFIG_ADDRESS に指定された整数を書き込む" alt="" coords="485,71,621,98"/>
<area shape="rect" href="namespacepci.html#ab5d44e77708b8f81d78c54c018fde8af" title="CONFIG_DATA に指定された整数を書き込む" alt="" coords="495,122,610,149"/>
<area shape="rect" href="asmfunc_8h.html#ae9e509af3817e40529f9d4c358bd2581" title=" " alt="" coords="692,97,765,123"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceanonymous__namespace_02pci_8cpp_03_a385963511dc94725a4f23e18c13cbf69_icgraph.png" border="0" usemap="#namespaceanonymous__namespace_02pci_8cpp_03_a385963511dc94725a4f23e18c13cbf69_icgraph" alt=""/></div>
<map name="namespaceanonymous__namespace_02pci_8cpp_03_a385963511dc94725a4f23e18c13cbf69_icgraph" id="namespaceanonymous__namespace_02pci_8cpp_03_a385963511dc94725a4f23e18c13cbf69_icgraph">
<area shape="rect" title="指定された MSI ケーパビリティ構造に書き込む" alt="" coords="1164,5,1385,47"/>
<area shape="rect" href="namespaceanonymous__namespace_02pci_8cpp_03.html#aefa3a5640db48a27c677445cc0ccd6fb" title="指定された MSI レジスタを設定する" alt="" coords="880,5,1116,47"/>
<area shape="rect" href="namespacepci.html#a9cf4f1b2a0e810f6400d9ad4352e8f1c" title=" " alt="" coords="697,13,832,39"/>
<area shape="rect" href="namespacepci.html#af57068dc97191fcc3cf5b5d4b201e433" title=" " alt="" coords="405,13,649,39"/>
<area shape="rect" href="namespaceusb_1_1xhci.html#a230710c277871c2a8fb820799c2e05e6" title=" " alt="" coords="213,13,357,39"/>
<area shape="rect" href="main_8cpp.html#a7da4570c0d07e5391ac8ec4e26bc1407" title=" " alt="" coords="5,13,165,39"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
